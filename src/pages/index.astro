---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SearchFilter from '../components/SearchFilter.astro';
import PersonalCard from '../components/PersonalCard.astro';
import personals from '../data/personals.json';

// Sort by date (newest first)
personals.sort((a, b) => new Date(b.date_posted).getTime() - new Date(a.date_posted).getTime());
---

<Layout title="Queer Jewish Personals - Find Meaningful Connections">
  <Header />
  
  <main class="min-h-screen bg-gray-50">
    <!-- Featured Card Header -->
    <div class="w-full xl:max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 mb-6">
      <!--
      <div class="bg-white border-l-8 rounded-lg shadow-md px-8 py-7 flex items-center gap-4" style="border-color: #2de2c5;">
        <span class="inline-flex items-center justify-center rounded-full w-12 h-12 mr-4">
          <svg viewBox="0 0 24 24" fill="#e4576e" width="28" height="28">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
          </svg>
        </span>
        <h1 class="font-serif text-3xl md:text-4xl font-bold text-[#1a1a1a] tracking-tight" style="font-family: 'Playfair Display', serif;">
          Find Your Community
        </h1>
      </div>
      -->
    </div>

    <!-- Content Section -->
    <section class="py-4">
      <div class="w-full xl:max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Search and Filter -->
        <SearchFilter />

        <!-- Personals Grid -->
        <div id="personals-container" class="grid grid-cols-1 md:grid-cols-2 gap-12">
          {personals.map((personal) => (
            <PersonalCard {...personal} />
          ))}
        </div>

        <!-- Empty State -->
        <div id="empty-state" class="hidden text-center py-12">
          <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.47-.881-6.08-2.33" />
          </svg>
          <h3 class="mt-2 text-sm font-medium text-gray-900">No personals found</h3>
          <p class="mt-1 text-sm text-gray-500">Try adjusting your search or filters.</p>
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
